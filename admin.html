<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - ì„±ê²½ì¸ë¬¼ MBTI í…ŒìŠ¤íŠ¸</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-96 max-w-md mx-4">
            <h2 class="text-2xl font-bold text-center mb-6">ê´€ë¦¬ì ë¡œê·¸ì¸</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ì•„ì´ë””</label>
                    <input type="text" id="username" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                </div>
                <div id="loginError" class="text-red-500 text-sm hidden">ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
                <button onclick="login()" class="w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition-colors">
                    ë¡œê·¸ì¸
                </button>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ê´€ë¦¬ì í˜ì´ì§€ -->
    <div id="adminPanel" class="hidden">
        <!-- í—¤ë” -->
        <header class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
                <div class="flex justify-between items-center">
                    <h1 class="text-2xl font-bold text-gray-900">ğŸ› ï¸ ê´€ë¦¬ì í˜ì´ì§€</h1>
                    <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition-colors">
                        ë¡œê·¸ì•„ì›ƒ
                    </button>
                </div>
            </div>
        </header>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- í˜ì´ì§€ ì„ íƒ -->
            <div class="bg-white rounded-lg shadow p-6 mb-6">
                <h2 class="text-lg font-semibold mb-4">ğŸ“ í¸ì§‘í•  í˜ì´ì§€ ì„ íƒ</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button onclick="loadPage('index')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors">
                        <div class="text-2xl mb-2">ğŸ </div>
                        <div class="font-medium">ë©”ì¸ í˜ì´ì§€</div>
                        <div class="text-sm text-gray-500">index.html</div>
                    </button>
                    <button onclick="loadPage('test1')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors">
                        <div class="text-2xl mb-2">ğŸ™</div>
                        <div class="font-medium">í…ŒìŠ¤íŠ¸ 1</div>
                        <div class="text-sm text-gray-500">test1.html</div>
                    </button>
                    <button onclick="loadPage('test2')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors">
                        <div class="text-2xl mb-2">âš¡</div>
                        <div class="font-medium">í…ŒìŠ¤íŠ¸ 2</div>
                        <div class="text-sm text-gray-500">test2.html</div>
                    </button>
                    <button onclick="loadPage('test3')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors">
                        <div class="text-2xl mb-2">ğŸ”¥</div>
                        <div class="font-medium">í…ŒìŠ¤íŠ¸ 3</div>
                        <div class="text-sm text-gray-500">test3.html</div>
                    </button>
                    <button onclick="loadPage('result')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors">
                        <div class="text-2xl mb-2">ğŸ“Š</div>
                        <div class="font-medium">ê²°ê³¼ í˜ì´ì§€</div>
                        <div class="text-sm text-gray-500">result.html</div>
                    </button>
                </div>
            </div>

            <!-- ì—ë””í„° ì˜ì—­ -->
            <div id="editorSection" class="hidden">
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">âœï¸ í˜ì´ì§€ í¸ì§‘: <span id="currentPageTitle"></span></h2>
                        <div class="flex space-x-2">
                            <button onclick="showPreview()" class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors">
                                ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°
                            </button>
                            <button onclick="saveChanges()" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors">
                                ğŸ’¾ ì €ì¥í•˜ê¸°
                            </button>
                        </div>
                    </div>

                    <!-- ëª¨ë“œ ì„ íƒ -->
                    <div class="flex mb-4 border-b">
                        <button id="basicModeBtn" onclick="switchMode('basic')" class="px-4 py-2 font-medium text-blue-600 border-b-2 border-blue-600">
                            ğŸ“ ê¸°ë³¸ëª¨ë“œ
                        </button>
                        <button id="htmlModeBtn" onclick="switchMode('html')" class="px-4 py-2 font-medium text-gray-500 hover:text-gray-700">
                            ğŸ”§ HTMLëª¨ë“œ
                        </button>
                    </div>

                    <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
                    <div class="mb-4 p-4 bg-gray-50 rounded-lg">
                        <label class="block text-sm font-medium text-gray-700 mb-2">ğŸ“· ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
                        <input type="file" id="imageUpload" accept="image/*" class="mb-2">
                        <div id="imagePreview" class="hidden">
                            <img id="uploadedImage" class="max-w-xs h-auto rounded-lg shadow-md">
                            <button onclick="insertImage()" class="ml-2 bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600">
                                â• ì´ë¯¸ì§€ ì‚½ì…
                            </button>
                        </div>
                    </div>

                    <!-- ê¸°ë³¸ëª¨ë“œ ì—ë””í„° -->
                    <div id="basicEditor" class="mb-4">
                        <div id="wysiwyg" class="min-h-96 p-4 border border-gray-300 rounded-lg bg-white" contenteditable="true">
                            <!-- í¸ì§‘ ê°€ëŠ¥í•œ ì˜ì—­ -->
                        </div>
                    </div>

                    <!-- HTMLëª¨ë“œ ì—ë””í„° -->
                    <div id="htmlEditor" class="hidden mb-4">
                        <textarea id="htmlCode" class="w-full h-96 p-4 font-mono text-sm border border-gray-300 rounded-lg bg-gray-900 text-green-400" placeholder="HTML ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ê´€ë¦¬ì ê³„ì • ì •ë³´
        const ADMIN_CREDENTIALS = {
            username: 'akb0811',
            password: 'rlqja0985!'
        };

        let currentPage = '';
        let currentMode = 'basic';

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                document.getElementById('loginModal').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                document.getElementById('loginError').classList.add('hidden');
            } else {
                document.getElementById('loginError').classList.remove('hidden');
            }
        }

        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
        function logout() {
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            document.getElementById('editorSection').classList.add('hidden');
        }

        // í˜ì´ì§€ ë¡œë“œ
        function loadPage(pageType) {
            currentPage = pageType;
            document.getElementById('currentPageTitle').textContent = getPageTitle(pageType);
            document.getElementById('editorSection').classList.remove('hidden');
            
            // ì‹¤ì œ í˜ì´ì§€ ë‚´ìš©ì„ ë¡œë“œí•˜ëŠ” ë¶€ë¶„ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)
            loadPageContent(pageType);
        }

        // í˜ì´ì§€ ì œëª© ë°˜í™˜
        function getPageTitle(pageType) {
            const titles = {
                'index': 'ë©”ì¸ í˜ì´ì§€ (index.html)',
                'test1': 'í…ŒìŠ¤íŠ¸ 1 - ì‹ ì•™ìƒí™œ (test1.html)',
                'test2': 'í…ŒìŠ¤íŠ¸ 2 - í•˜ë‚˜ë‹˜ì˜ ì¼ (test2.html)',
                'test3': 'í…ŒìŠ¤íŠ¸ 3 - ìœ„ê¸°ìƒí™© (test3.html)',
                'result': 'ê²°ê³¼ í˜ì´ì§€ (result.html)'
            };
            return titles[pageType] || pageType;
        }

        // MBTI ê²°ê³¼ ë°ì´í„° (constants.tsì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°)
        const RESULTS = {
            ENFP: {
                character: 'ì•„ë¸Œë¼í•¨',
                description: 'ì—´ì •ì ì´ê³  ì°½ì˜ì ì¸ ë‹¹ì‹ ì€ ë¯¿ìŒì˜ ì¡°ìƒ ì•„ë¸Œë¼í•¨ê³¼ ê°™ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ì°¾ì•„ ë¯¸ì§€ì˜ ë•…ìœ¼ë¡œ ë– ë‚˜ëŠ” ë„ì „ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šìœ¼ë©°, ë”°ëœ»í•œ ë§ˆìŒìœ¼ë¡œ ì‚¬ëŒë“¤ì„ ì´ë•ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë¯¿ìŒê³¼ ê°œì²™ ì •ì‹ ì€ ìƒˆë¡œìš´ ê¸¸ì„ ì—´ì–´ê°‘ë‹ˆë‹¤.',
                verse: 'ì°½ì„¸ê¸° 12:1',
                verseText: 'ì—¬í˜¸ì™€ê»˜ì„œ ì•„ë¸ŒëŒì—ê²Œ ì´ë¥´ì‹œë˜ ë„ˆëŠ” ë„ˆì˜ ê³ í–¥ê³¼ ì¹œì¡±ê³¼ ì•„ë²„ì§€ì˜ ì§‘ì„ ë– ë‚˜ ë‚´ê°€ ë„¤ê²Œ ë³´ì—¬ ì¤„ ë•…ìœ¼ë¡œ ê°€ë¼',
                image: '/ENFP ì•„ë¸Œë¼í•¨.jpg'
            },
            ENFJ: {
                character: 'ëŠí—¤ë¯¸ì•¼',
                description: 'ì‚¬ëŒë“¤ì„ ì´ë„ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆì™€ ê¹Šì€ ê³µê° ëŠ¥ë ¥ì„ ê°€ì§„ ë‹¹ì‹ ì€ ëŠí—¤ë¯¸ì•¼ì™€ ê°™ìŠµë‹ˆë‹¤. ê³µë™ì²´ì˜ ì„±ì¥ì„ ìœ„í•´ í—Œì‹ í•˜ë©°, ì‚¬ëŒë“¤ì—ê²Œ ì˜ê°ì„ ì£¼ì–´ í•¨ê»˜ ëª©í‘œë¥¼ ì´ë£¨ì–´ë‚´ëŠ” ë›°ì–´ë‚œ ì§€ë„ìì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì—´ì •ê³¼ ë¹„ì „ì€ ì‚¬ëŒë“¤ì„ ì›€ì§ì…ë‹ˆë‹¤.',
                verse: 'ëŠí—¤ë¯¸ì•¼ 2:18',
                verseText: 'ë˜ ê·¸ë“¤ì—ê²Œ í•˜ë‚˜ë‹˜ì˜ ì„ í•œ ì†ì´ ë‚˜ë¥¼ ë„ìš°ì‹  ì¼ê³¼ ì™•ì´ ë‚´ê²Œ ì´ë¥¸ ë§ì”€ì„ ì „í•˜ì˜€ë”ë‹ˆ ê·¸ë“¤ì˜ ë§ì´ ì¼ì–´ë‚˜ ê±´ì¶•í•˜ì í•˜ê³  ëª¨ë‘ í˜ì„ ë‚´ì–´ ì´ ì„ í•œ ì¼ì„ í•˜ë ¤ í•˜ë§¤',
                image: '/ENJS ëŠí—¤ë¯¸ì•¼.jpg'
            },
            INFJ: {
                character: 'ë‹¤ë‹ˆì—˜',
                description: 'ê¹Šì€ í†µì°°ë ¥ê³¼ ê°•í•œ ì‹ ë…ì„ ê°€ì§„ ë‹¹ì‹ ì€ ë‹¤ë‹ˆì—˜ì„ ë‹®ì•˜ìŠµë‹ˆë‹¤. ì´ìƒì„ ì¶”êµ¬í•˜ë©°, ë¶ˆì˜ì™€ íƒ€í˜‘í•˜ì§€ ì•ŠëŠ” ê³§ì€ ì„±í’ˆìœ¼ë¡œ ì£¼ë³€ì— ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ìì‹ ì˜ ê°€ì¹˜ê´€ì„ ì§€í‚¤ê¸° ìœ„í•´ ì–´ë–¤ ìœ„í˜‘ì—ë„ êµ´í•˜ì§€ ì•ŠëŠ” ìš©ê¸°ë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤.',
                verse: 'ë‹¤ë‹ˆì—˜ 6:10',
                verseText: 'ë‹¤ë‹ˆì—˜ì´ ì´ ì¡°ì„œì— ì™•ì˜ ë„ì¥ì´ ì°íŒ ê²ƒì„ ì•Œê³ ë„ ìê¸° ì§‘ì— ëŒì•„ê°€ì„œëŠ” ìœ—ë°©ì— ì˜¬ë¼ê°€ ì˜ˆë£¨ì‚´ë ˜ìœ¼ë¡œ í–¥í•œ ì°½ë¬¸ì„ ì—´ê³  ì „ì— í•˜ë˜ ëŒ€ë¡œ í•˜ë£¨ ì„¸ ë²ˆì”© ë¬´ë¦ì„ ê¿‡ê³  ê¸°ë„í•˜ë©° ê·¸ì˜ í•˜ë‚˜ë‹˜ê»˜ ê°ì‚¬í•˜ì˜€ë”ë¼',
                image: '/INFJ ë‹¤ë‹ˆì—˜.jpg'
            },
            ISFP: {
                character: 'ë‹¤ìœ—',
                description: 'ê²¸ì†í•˜ê³  ë”°ëœ»í•œ ë§ˆìŒì„ ê°€ì§„ ì˜ˆìˆ ê°€ ìœ í˜•ì¸ ë‹¹ì‹ ì€ ë‹¤ìœ—ê³¼ ê°™ìŠµë‹ˆë‹¤. ì„¬ì„¸í•œ ê°ìˆ˜ì„±ìœ¼ë¡œ ì•„ë¦„ë‹¤ìš´ ì‹œì™€ ë…¸ë˜ë¥¼ ë§Œë“¤ì—ˆìœ¼ë©°, í˜„ì¬ì˜ ìˆœê°„ì„ ì†Œì¤‘íˆ ì—¬ê¹ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì˜¨í™”í•¨ê³¼ ì˜ˆìˆ ì  ê°ì„±ì€ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ìœ„ë¡œì™€ ì˜ê°ì„ ì¤ë‹ˆë‹¤.',
                verse: 'ì‹œí¸ 23:1',
                verseText: 'ì—¬í˜¸ì™€ëŠ” ë‚˜ì˜ ëª©ìì‹œë‹ˆ ë‚´ê²Œ ë¶€ì¡±í•¨ì´ ì—†ìœ¼ë¦¬ë¡œë‹¤',
                image: '/ISFP ë‹¤ìœ—.jpg'
            }
        };

        // í˜ì´ì§€ ë‚´ìš© ë¡œë“œ (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)
        function loadPageContent(pageType) {
            let content;
            
            if (pageType === 'result') {
                // ê²°ê³¼ í˜ì´ì§€ì˜ ê²½ìš° ì‹¤ì œ React ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ êµ¬ì¡°ë¡œ ìƒì„±
                const sampleResult = RESULTS.ENFP; // ìƒ˜í”Œë¡œ ENFP ê²°ê³¼ ì‚¬ìš©
                content = generateResultPageContent(sampleResult, 'ENFP');
            } else {
                const sampleContent = {
                    'index': '<h1>ì„±ê²½ì¸ë¬¼ MBTI í…ŒìŠ¤íŠ¸</h1><p>ë‚˜ì™€ ë‹®ì€ ì„±ê²½ ì† ì¸ë¬¼ì„ ì°¾ì•„ë³´ì„¸ìš”!</p>',
                    'test1': '<h1>ì‹ ì•™ìƒí™œ ê¹Šì´ë³´ê¸° í…ŒìŠ¤íŠ¸</h1><p>ì˜ˆë°°, ê¸°ë„, êµì œë¥¼ í†µí•´ ë‚˜ë§Œì˜ ì‹ ì•™ ìŠ¤íƒ€ì¼ì„ ë°œê²¬í•´ë³´ì„¸ìš”.</p>',
                    'test2': '<h1>í•˜ë‚˜ë‹˜ì˜ ì¼ ì†ì˜ ë‚˜</h1><p>ì„¬ê¹€ê³¼ ì‚¬ì—­ì—ì„œì˜ ì„±í–¥ì„ ì•Œì•„ë³´ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.</p>',
                    'test3': '<h1>ìœ„ê¸° ì†ì˜ ë‚˜</h1><p>ì–´ë ¤ìš´ ìƒí™©ì—ì„œì˜ ë°˜ì‘ì„ í†µí•´ ì„±ê²©ì„ íŒŒì•…í•´ë³´ì„¸ìš”.</p>'
                };
                content = sampleContent[pageType] || '<h1>í˜ì´ì§€ ë‚´ìš©</h1><p>í¸ì§‘í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.</p>';
            }
            
            document.getElementById('wysiwyg').innerHTML = content;
            document.getElementById('htmlCode').value = content;
        }

        // ì‹¤ì œ React ê²°ê³¼ í˜ì´ì§€ì™€ ë™ì¼í•œ HTML êµ¬ì¡° ìƒì„±
        function generateResultPageContent(resultData, mbtiType) {
            return `
                <!-- ê²°ê³¼ í˜ì´ì§€ ì „ì²´ ì»¨í…Œì´ë„ˆ -->
                <div class="min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 text-gray-800 flex flex-col transition-all duration-500">
                    <!-- MZ ìŠ¤íƒ€ì¼ ë°°ê²½ ì¥ì‹ -->
                    <div class="absolute inset-0 overflow-hidden pointer-events-none">
                        <div class="absolute top-20 left-10 w-32 h-32 bg-violet-200/20 rounded-full blur-3xl"></div>
                        <div class="absolute bottom-20 right-10 w-40 h-40 bg-pink-200/20 rounded-full blur-3xl"></div>
                        <div class="absolute top-1/2 left-1/3 w-24 h-24 bg-orange-200/20 rounded-full blur-2xl"></div>
                    </div>
                    
                    <!-- ë©”ì¸ ê²°ê³¼ ì»¨í…Œì´ë„ˆ -->
                    <main class="flex-1 flex items-center justify-center p-4">
                        <div class="w-full max-w-lg mx-auto relative z-10">
                            <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-8 text-center space-y-6">
                                
                                <!-- ì¶•í•˜ ë©”ì‹œì§€ -->
                                <div class="space-y-3">
                                    <div class="flex items-center justify-center space-x-2 text-2xl">
                                        <span>ğŸ‰</span>
                                        <span class="font-bold text-violet-600">í…ŒìŠ¤íŠ¸ ì™„ë£Œ!</span>
                                        <span>ğŸ‰</span>
                                    </div>
                                    <p class="text-sm text-gray-600 font-medium">ë‹¹ì‹ ê³¼ ë‹®ì€ ì„±ê²½ì¸ë¬¼ì„ ë°œê²¬í–ˆì–´ìš”!</p>
                                </div>

                                <!-- MBTI ìœ í˜• í‘œì‹œ -->
                                <div class="bg-gradient-to-r from-violet-500 to-pink-500 text-white rounded-2xl p-4 shadow-lg">
                                    <div class="text-3xl font-bold mb-1">${mbtiType}</div>
                                    <div class="text-lg opacity-90">ìœ í˜•</div>
                                </div>

                                <!-- ìºë¦­í„° ì´ë¯¸ì§€ -->
                                <div class="relative">
                                    <img 
                                        src="${resultData.image}" 
                                        alt="${resultData.character}"
                                        class="w-48 h-48 object-cover rounded-2xl mx-auto shadow-xl border-4 border-white"
                                        onerror="this.src='/favicon.svg'; this.className='w-48 h-48 object-contain rounded-2xl mx-auto shadow-xl border-4 border-white bg-gray-100'"
                                    />
                                    <div class="absolute -bottom-3 left-1/2 transform -translate-x-1/2 bg-white px-6 py-2 rounded-full shadow-lg border border-gray-100">
                                        <span class="text-xl font-bold text-gray-800">${resultData.character}</span>
                                    </div>
                                </div>

                                <!-- ì„±ê²© ì„¤ëª… -->
                                <div class="bg-gray-50 rounded-2xl p-6 space-y-4 text-left">
                                    <h3 class="text-xl font-bold text-center text-gray-800 mb-4">âœ¨ ë‹¹ì‹ ì˜ ì„±ê²©</h3>
                                    <p class="text-gray-700 leading-relaxed text-sm">${resultData.description}</p>
                                    
                                    <!-- ì„±ê²½ êµ¬ì ˆ -->
                                    <div class="bg-white rounded-xl p-4 border-l-4 border-violet-400 mt-4">
                                        <div class="text-xs text-violet-600 font-semibold mb-2">${resultData.verse}</div>
                                        <p class="text-sm text-gray-600 italic leading-relaxed">"${resultData.verseText}"</p>
                                    </div>
                                </div>

                                <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                                <div class="space-y-3 pt-4">
                                    <button class="w-full bg-gradient-to-r from-green-500 to-teal-500 text-white font-semibold py-4 px-6 rounded-2xl hover:from-green-600 hover:to-teal-600 transition-all duration-300 transform hover:scale-[1.02] shadow-lg flex items-center justify-center space-x-2">
                                        <span>ğŸ“±</span>
                                        <span>ê²°ê³¼ ê³µìœ í•˜ê¸°</span>
                                    </button>
                                    
                                    <button class="w-full bg-gradient-to-r from-violet-500 to-pink-500 text-white font-semibold py-4 px-6 rounded-2xl hover:from-violet-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-[1.02] shadow-lg flex items-center justify-center space-x-2">
                                        <span>ğŸ”„</span>
                                        <span>ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</span>
                                    </button>
                                </div>

                                <!-- ë‹¤ë¥¸ ìºë¦­í„°ë“¤ ë³´ê¸° -->
                                <div class="pt-4 border-t border-gray-100">
                                    <button class="text-violet-600 hover:text-violet-800 font-medium text-sm transition-colors">
                                        ğŸ“– ë‹¤ë¥¸ ì„±ê²½ì¸ë¬¼ë“¤ë„ ê¶ê¸ˆí•´ìš”!
                                    </button>
                                </div>
                            </div>
                        </div>
                    </main>

                    <!-- í•˜ë‹¨ ì¹´í”¼ë¼ì´íŠ¸ -->
                    <footer class="relative z-10 bg-white/80 backdrop-blur-sm border-t border-gray-200/50 py-2 px-4">
                        <div class="max-w-4xl mx-auto text-center">
                            <p class="text-xs text-gray-500 py-1">
                                "ì¿ íŒ¡íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì„ í†µí•´ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
                                <br />
                                <span class="text-gray-400">Â© 2025 ì„±ê²½ì¸ë¬¼ MBTI í…ŒìŠ¤íŠ¸. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</span>
                            </p>
                        </div>
                    </footer>
                </div>
            `;
        }

        // í¸ì§‘ ëª¨ë“œ ì „í™˜
        function switchMode(mode) {
            currentMode = mode;
            
            if (mode === 'basic') {
                document.getElementById('basicEditor').classList.remove('hidden');
                document.getElementById('htmlEditor').classList.add('hidden');
                document.getElementById('basicModeBtn').className = 'px-4 py-2 font-medium text-blue-600 border-b-2 border-blue-600';
                document.getElementById('htmlModeBtn').className = 'px-4 py-2 font-medium text-gray-500 hover:text-gray-700';
                
                // HTML ëª¨ë“œì˜ ë‚´ìš©ì„ ê¸°ë³¸ ëª¨ë“œë¡œ ë™ê¸°í™”
                document.getElementById('wysiwyg').innerHTML = document.getElementById('htmlCode').value;
            } else {
                document.getElementById('basicEditor').classList.add('hidden');
                document.getElementById('htmlEditor').classList.remove('hidden');
                document.getElementById('basicModeBtn').className = 'px-4 py-2 font-medium text-gray-500 hover:text-gray-700';
                document.getElementById('htmlModeBtn').className = 'px-4 py-2 font-medium text-blue-600 border-b-2 border-blue-600';
                
                // ê¸°ë³¸ ëª¨ë“œì˜ ë‚´ìš©ì„ HTML ëª¨ë“œë¡œ ë™ê¸°í™”
                document.getElementById('htmlCode').value = document.getElementById('wysiwyg').innerHTML;
                
                // ì½”ë“œ í•˜ì´ë¼ì´íŒ… ì ìš©
                setTimeout(() => {
                    const codeElement = document.getElementById('htmlCode');
                    codeElement.style.fontFamily = 'monospace';
                }, 100);
            }
        }

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
        document.getElementById('imageUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById('uploadedImage');
                    img.src = e.target.result;
                    document.getElementById('imagePreview').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        // ì´ë¯¸ì§€ ì‚½ì…
        function insertImage() {
            const img = document.getElementById('uploadedImage');
            const imgHtml = `<img src="${img.src}" alt="ì—…ë¡œë“œëœ ì´ë¯¸ì§€" style="max-width: 100%; height: auto; margin: 10px 0;">`;
            
            if (currentMode === 'basic') {
                const wysiwyg = document.getElementById('wysiwyg');
                wysiwyg.innerHTML += imgHtml;
            } else {
                const htmlCode = document.getElementById('htmlCode');
                htmlCode.value += imgHtml;
            }
            
            // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ìˆ¨ê¸°ê¸°
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('imageUpload').value = '';
        }

        // ë¯¸ë¦¬ë³´ê¸°
        function showPreview() {
            let content;
            if (currentMode === 'basic') {
                content = document.getElementById('wysiwyg').innerHTML;
            } else {
                content = document.getElementById('htmlCode').value;
            }
            
            const previewWindow = window.open('', '_blank', 'width=800,height=600');
            
            // ê²°ê³¼ í˜ì´ì§€ì¸ ê²½ìš° Tailwind CSSë¥¼ í¬í•¨í•´ì„œ ë¯¸ë¦¬ë³´ê¸°
            let styleTag = '';
            if (currentPage === 'result') {
                styleTag = `
                    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
                    <style>
                        body { 
                            margin: 0; 
                            padding: 0; 
                            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                        }
                        .bg-gradient-to-br {
                            background: linear-gradient(to bottom right, #e0e7ff, #f3e8ff, #fce7f3);
                        }
                        .backdrop-blur-sm {
                            backdrop-filter: blur(4px);
                        }
                        .transform:hover {
                            transform: scale(1.02);
                        }
                        .blur-3xl {
                            filter: blur(48px);
                        }
                        .blur-2xl {
                            filter: blur(24px);
                        }
                    </style>
                `;
            } else {
                styleTag = `
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            padding: 20px; 
                            line-height: 1.6; 
                        }
                        img { 
                            max-width: 100%; 
                            height: auto; 
                        }
                    </style>
                `;
            }
            
            previewWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ko">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>ë¯¸ë¦¬ë³´ê¸° - ${getPageTitle(currentPage)}</title>
                    ${styleTag}
                </head>
                <body>
                    ${currentPage !== 'result' ? `<h2>ğŸ“± ë¯¸ë¦¬ë³´ê¸°: ${getPageTitle(currentPage)}</h2><hr>` : ''}
                    ${content}
                </body>
                </html>
            `);
            previewWindow.document.close();
        }

        // ë³€ê²½ì‚¬í•­ ì €ì¥
        function saveChanges() {
            let content;
            if (currentMode === 'basic') {
                content = document.getElementById('wysiwyg').innerHTML;
            } else {
                content = document.getElementById('htmlCode').value;
            }
            
            // ì‹¤ì œë¡œëŠ” ì„œë²„ë¡œ ì „ì†¡í•´ì•¼ í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            localStorage.setItem(`page_${currentPage}`, content);
            
            alert('âœ… ë³€ê²½ì‚¬í•­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì‹¤ì œ ì›¹ì‚¬ì´íŠ¸ì— ë°˜ì˜í•˜ë ¤ë©´ ê°œë°œìê°€ ë°°í¬ ì‘ì—…ì„ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.');
        }

        // Enter í‚¤ë¡œ ë¡œê·¸ì¸
        document.getElementById('password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                login();
            }
        });

        // WYSIWYG ì—ë””í„° ê¸°ë³¸ ê¸°ëŠ¥ë“¤
        document.getElementById('wysiwyg').addEventListener('keydown', function(e) {
            // Ctrl+B: êµµê²Œ
            if (e.ctrlKey && e.key === 'b') {
                e.preventDefault();
                document.execCommand('bold');
            }
            // Ctrl+I: ì´íƒ¤ë¦­
            if (e.ctrlKey && e.key === 'i') {
                e.preventDefault();
                document.execCommand('italic');
            }
            // Ctrl+U: ë°‘ì¤„
            if (e.ctrlKey && e.key === 'u') {
                e.preventDefault();
                document.execCommand('underline');
            }
        });
    </script>
</body>
</html>